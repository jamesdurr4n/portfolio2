<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8">
  <title> StudBud - Kanban Board </title>
  <link rel="stylesheet" href="../CSS/style.css" type="text/css">
  <!-- Boxicons CDN Link -->
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <div>
    <iframe style="border-radius:12px" class="spotify"
      src="https://open.spotify.com/embed/playlist/0vvXsWCC9xrXsKd4FyS8kM?utm_source=generator&theme=0" width="100%"
      height="80" frameBorder="0" allowfullscreen=""
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
  </div>
  <div class="sidebar">
    <div class="logo-details">
      <i class='bx bx-palette icon'></i>
      <div class="logo_name">StudBud</div>
      <i class='bx bx-menu' id="btn"></i>
    </div>
    <ul class="nav-list">
      <li>
        <a href="index.html">
          <i class='bx bx-grid-alt'></i>
          <span class="links_name">Task List</span>
        </a>
        <span class="tooltip">Task List</span>
      </li>
      <li>
        <a href="kanban.html">
          <i class='bx bxs-dashboard'></i>
          <span class="links_name">Kanban Board</span>
        </a>
        <span class="tooltip">Kanban Board</span>
      </li>
      <li>
        <a href="stopwatch.html">
          <i class='bx bx-stopwatch'></i>
          <span class="links_name">Stopwatch</span>
        </a>
        <span class="tooltip">Stopwatch</span>
      </li>
      <li>
        <a href="music.html">
          <i class='bx bx-music'></i>
          <span class="links_name">Music</span>
        </a>
        <span class="tooltip">Music</span>
      </li>
      <li>
        <a href="readinglist.html">
          <i class='bx bx-book-open'></i>
          <span class="links_name">Reading List</span>
        </a>
        <span class="tooltip">Reading List</span>
      </li>
    </ul>
  </div>

  <!-- Kanban Board -->
  <!-- This Kanban board is the exact same as proposed. However with coding issues, local storage of task list was not passed into the Kanban board. For the ideal StudBud vision, this wouldn't have occured.-->
<section class="home-section">
    
  <div class="container-kanban">
    <div class="kanban-heading">
        <h2 class="kanban-heading-text"> </h2>
    </div>
    <div class="kanban-board">
        <div class="kanban-block" id="todo" ondrop="drop(event)" ondragover="allowDrop(event)">
            <strong>To Do</strong>
            <div class="task-button-block">
                <button id="task-button" onclick="createTask()">
                  <i class='bx bx-plus'></i>
                </span>
            </div>    
            
            
            
        </div>
        <div class="kanban-block" id="inprogress" ondrop="drop(event)" ondragover="allowDrop(event)">
            <strong>In Progress</strong>
        </div>
        <div class="kanban-block" id="done" ondrop="drop(event)" ondragover="allowDrop(event)">
            <strong>Done</strong>
        </div>
        <div class="create-new-task-block" id="create-new-task-block">
            <strong>New Task</strong>
            <span class="form-row">
                <label class="form-row-label" for="task-name">Task</label>
                <input class="form-row-input" type="text" name="task-name" id="task-name">
            </span>
            <span class="form-row">
                <label class="form-row-label" for="task-name">Description</label>
                <textarea class="form-row-input" name="task-description" id="task-description" cols="70" rows="10"></textarea>
            </span>
            <span class="form-row">
                <label class="form-row-label" for="task-name">Status</label>
                <select class="form-row-input" name="task-status" id="task-status">
                    <option value="todo">To Do</option>
                    <option value="inprogress">In Progress</option>
                    <option value="done">Done</option>
                </select>
            </span>
            <span class="form-row-buttons">
                <button id="edit-button" onclick="editTask()">Edit</span>
                <button id="save-button" onclick="saveTask()">Save</span>
                <button id="cancel-button" onclick="createTask()">Cancel</span>
            </span>
        </div>
    </div>
</div>

    <script src="../JS/kanban.js"></script>
</section>
          
  <script>
    let sidebar = document.querySelector(".sidebar");
    let closeBtn = document.querySelector("#btn");
    let searchBtn = document.querySelector(".bx-search");

    closeBtn.addEventListener("click", () => {
      sidebar.classList.toggle("open");
      menuBtnChange();
    });

    searchBtn.addEventListener("click", () => { // Sidebar opens when you click on the search icon
      sidebar.classList.toggle("open");
      menuBtnChange(); 
    });

    // Icon change with sidebar open/close
    function menuBtnChange() {
      if (sidebar.classList.contains("open")) {
        closeBtn.classList.replace("bx-menu", "bx-menu-alt-right");
      } else {
        closeBtn.classList.replace("bx-menu-alt-right", "bx-menu");
      }
    }
  </script>
</body>

</html>
